var body=document.getElementById("body"),submit=document.getElementById("submit"),setGlobalSettings={},getGlobalSettings="darkMode fullwidthMode moreActionMenu removeSettingsBtn disableDiscoverToggle hideSidebar hideBranding displayType removePreviews removePlaylists removeLongTracks removeUserActivity removeReposts tagsArray filter hiddenOutline profileImages disableUnfollower discoverModules".split(" ");
chrome.storage.sync.get(getGlobalSettings,function(a){"on"==a.darkMode&&body.setAttribute("data-theme","dark")});
var darkModeInput=document.querySelector("#darkMode"),fullwidthModeInput=document.querySelector("#fullwidthMode"),removeSettingsBtnInput=document.querySelector("#removeSettingsBtn"),hideSidebarInput=document.querySelector("#hideSidebar"),hideTheUploadInput=document.querySelector("#hideTheUpload"),hideBrandingInput=document.querySelector("#hideBranding"),displayTypeInput=document.querySelectorAll('input[name="displayType"]'),removePreviewsInput=document.querySelector("#removePreviews"),removePlaylistsInput=
document.querySelector("#removePlaylists"),removeLongTracksInput=document.querySelector("#removeLongTracks"),removeUserActivityInput=document.querySelector("#removeUserActivity"),removeRepostsInput=document.querySelector("#removeReposts"),hiddenOutlineInput=document.querySelector("#hiddenOutline"),profileImagesInput=document.querySelector("#profileImages"),relatedActionMenuInput=document.querySelector("#relatedActionMenu"),tagActionMenuInput=document.querySelector("#tagActionMenu"),artistActionMenuInput=
document.querySelector("#artistActionMenu"),trackActionMenuInput=document.querySelector("#trackActionMenu"),disableUnfollowerInput=document.querySelector("#disableUnfollower"),disableDiscoverToggleInput=document.querySelector("#disableDiscoverToggle");
chrome.storage.sync.get(getGlobalSettings,function(a){"on"==a.darkMode&&(darkModeInput.checked=!0);"on"==a.fullwidthMode&&(fullwidthModeInput.checked=!0);"on"==a.removeSettingsBtn&&(removeSettingsBtnInput.checked=!0);"on"==a.hideSidebar&&(hideSidebarInput.checked=!0);"on"==a.hideTheUpload&&(hideTheUploadInput.checked=!0);"on"==a.hideBranding&&(hideBrandingInput.checked=!0);"on"==a.oldUserProfile&&(oldUserProfileInput.checked=!0);"list"==a.displayType?displayTypeInput[1].checked=!0:"grid"==a.displayType?
displayTypeInput[2].checked=!0:displayTypeInput[0].checked=!0;"on"==a.removePreviews&&(removePreviewsInput.checked=!0);"on"==a.removePlaylists&&(removePlaylistsInput.checked=!0);"on"==a.removeLongTracks&&(removeLongTracksInput.checked=!0);"on"==a.removeUserActivity&&(removeUserActivityInput.checked=!0);"on"==a.removeReposts&&(removeRepostsInput.checked=!0);"on"==a.hiddenOutline&&(hiddenOutlineInput.checked=!0);"on"==a.profileImages&&(profileImagesInput.checked=!0);"on"==a.disableUnfollower&&(disableUnfollowerInput.checked=
!0);"on"==a.disableDiscoverToggle&&(disableDiscoverToggleInput.checked=!0);a.moreActionMenu&&("on"==a.moreActionMenu.relatedActionMenu&&(relatedActionMenuInput.checked=!0),"on"==a.moreActionMenu.tagActionMenu&&(tagActionMenuInput.checked=!0),"on"==a.moreActionMenu.artistActionMenu&&(artistActionMenuInput.checked=!0),"on"==a.moreActionMenu.trackActionMenu&&(trackActionMenuInput.checked=!0))});
submit.addEventListener("click",function(){for(var a=displayTypeInput.length,b={},c=0;c<a;c++)displayTypeInput[c].checked&&(displayTypeInput.value=displayTypeInput[c].value);1!=darkModeInput.checked&&(darkMode.value="off");1!=fullwidthModeInput.checked&&(fullwidthMode.value="off");1!=removeSettingsBtnInput.checked&&(removeSettingsBtn.value="off");1!=hideSidebarInput.checked&&(hideSidebar.value="off");1!=hideBrandingInput.checked&&(hideBranding.value="off");1!=removePreviewsInput.checked&&(removePreviews.value=
"off");1!=removePlaylistsInput.checked&&(removePlaylists.value="off");1!=removeLongTracksInput.checked&&(removeLongTracks.value="off");1!=removeUserActivityInput.checked&&(removeUserActivity.value="off");1!=removeRepostsInput.checked&&(removeReposts.value="off");1!=hiddenOutlineInput.checked&&(hiddenOutline.value="off");1!=profileImagesInput.checked&&(profileImages.value="off");1!=disableUnfollowerInput.checked&&(disableUnfollower.value="off");1!=disableDiscoverToggleInput.checked&&(disableDiscoverToggle.value=
"off");b.relatedActionMenu=1!=relatedActionMenuInput.checked?"off":"on";b.tagActionMenu=1!=tagActionMenuInput.checked?"off":"on";b.artistActionMenu=1!=artistActionMenuInput.checked?"off":"on";b.trackActionMenu=1!=trackActionMenuInput.checked?"off":"on";setGlobalSettings.darkMode=darkMode.value;setGlobalSettings.fullwidthMode=fullwidthMode.value;setGlobalSettings.removeSettingsBtn=removeSettingsBtn.value;setGlobalSettings.hideSidebar=hideSidebar.value;setGlobalSettings.hideBranding=hideBranding.value;
setGlobalSettings.displayType=displayTypeInput.value;setGlobalSettings.removePreviews=removePreviews.value;setGlobalSettings.removePlaylists=removePlaylists.value;setGlobalSettings.removeLongTracks=removeLongTracks.value;setGlobalSettings.removeUserActivity=removeUserActivity.value;setGlobalSettings.removeReposts=removeReposts.value;setGlobalSettings.hiddenOutline=hiddenOutline.value;setGlobalSettings.profileImages=profileImages.value;setGlobalSettings.disableUnfollower=disableUnfollower.value;setGlobalSettings.disableDiscoverToggle=
disableDiscoverToggle.value;setGlobalSettings.moreActionMenu=b;chrome.storage.sync.set(setGlobalSettings,function(){chrome.runtime.lastError?alert("Error settings:\n\n"+chrome.runtime.lastError):location.reload()})});
